## 4.4.2 Inline

The `inline` keyword allows function bodies to be directly inserted in place of calls to them. This can be a powerful optimization tool, but should be used carefully, as not all functions are good candidates for inline behavior. The following example demonstrates the basic usage:

```haxe
class Main {
	static inline function mid(s1:Int, s2:Int) {
		return (s1 + s2) / 2;
	}
	
	static public function main() {
		var a = 1;
		var b = 2;
		var c = mid(a, b);
	}
}
```

The generated Javascript output reveals the effect of inline:

```haxe
(function () { "use strict";
var Main = function() { }
Main.main = function() {
	var a = 1;
	var b = 2;
	var c = (a + b) / 2;
}
Main.main();
})();
```

As evident, the function body `s1 + s2` of field `mid` was generated in place of the call to `add(a, b)`, with `s1` being replaced by `a` and `s2` being replaced by `b`. This avoids a function call which, depending on the target and frequency of occurrences, may yield noticeable performance improvements.
>TODO: which targets suffer the most from function calls? Guessing flash?

It is not always easy to judge if a function should be inlined. Short functions that have no writing expressions (such as a `=` assignment) are usually a good choice, but even more complex functions can be candidates. However, in some cases inlining can actually be detrimental to performance, e.g. because the compiler has to create temporary variables for complex expressions. Inlining also increases the size of code produced.
>TODO: So how do we tell if a function performs better inline?  Use a code profiler?

---

Previous section: [Visibility](4.4.1-Visibility.md)

Next section: [Dynamic](4.4.3-Dynamic.md)